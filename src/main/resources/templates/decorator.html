<!DOCTYPE html>
<html>

    <head>
        <title>decorator title</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="images/favicon.ico"
              data-th-href="@{/images/favicon.ico}" type="image/x-icon" />
        <link type="text/css" rel="stylesheet" href="webjars/purecss/build/pure-min.css"
              data-th-href="@{/webjars/purecss/build/pure-min.css}" />
        <link type="text/css" rel="stylesheet"
              href="webjars/font-awesome/css/all.css"
              data-th-href="@{/webjars/font-awesome/css/all.css}" />
        <link type="text/css" rel="stylesheet" href="css/style.css"
              data-th-href="@{/css/style.css}" />
        <link type="text/css" rel="stylesheet" href="css/style-black.css"
              data-th-href="@{|/css/style-${#themes.code('name')}.css|}" />
    </head>
    <body>
        <div class="center pure-menu pure-menu-horizontal">
        <a href="main" class="pure-menu-heading" data-th-href="@{/main}">
            <span class="bold"> <span data-th-text="#{decorator.header}"></span>
                <i class="fa fa-calendar fa-lg"></i></span>
        </a>
        <ul  class="pure-menu-list" data-layout-fragment="menu">
                <li class="pure-menu-item">
                        <a onclick="addTheme('blue', 'black')" class="pure-menu-link"
                           data-th-text="#{decorator.theme.black}"
                           data-th-if="${#themes.code('name')} == 'blue'"></a>
                        <a onclick="addTheme('black', 'blue')" class="pure-menu-link"
                           data-th-text="#{decorator.theme.blue}"
                           data-th-if="${#themes.code('name')} == 'black'">
                        </a>
                </li>
    </ul>
    </div>
        <div data-layout-fragment="content">content</div>
    <div class="center">
        <p data-th-utext="#{decorator.footer}">footer</p>
    </div>
        <script>
            /* <![CDATA[ */
            function addTheme(oldColor, newColor)
            {
                var url = window.location.href;
                if(url.indexOf('?')=== -1)
                {
                    window.location.href = url + "?theme=" + newColor;
                }
                else
                {
                    var oldParam = "?theme=" + oldColor;
                    var newParam = "?theme=" + newColor;
                    if (url.indexOf(oldParam) >= 0)
                    {
                        window.location.href = url.replace(oldParam, newParam);
                    }
                    else
                    {
                        oldParam = "&theme=" + oldColor;
                        newParam = "&theme=" + newColor;
                        if(url.indexOf(oldParam) >= 0)
                        {
                            window.location.href = url.replace(oldParam, newParam);
                        }
                        else
                        {
                            window.location.href = url + newParam;
                        }
                    }
                }
            }
            /* ]]> */
        </script>
    </body>
</html>
