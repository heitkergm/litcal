<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns="http://www.w3.org/1999/xhtml">

    <head>
        <title>decorator title</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="images/favicon.ico"
              th:href="@{/images/favicon.ico}" type="image/x-icon" />
        <link type="text/css" rel="stylesheet" href="webjars/pure/pure-min.css"
              th:href="@{/webjars/pure/pure-min.css}" />
        <link type="text/css" rel="stylesheet" href="webjars/font-awesome/css/font-awesone.min.css"
              th:href="@{/webjars/font-awesome/css/font-awesome.min.css}" />
        <link type="text/css" rel="stylesheet" href="css/style.css"
              th:href="@{/css/style.css}" />
        <link type="text/css" rel="stylesheet" href="css/style-black.css"
              th:href="@{|/css/style-${#themes.code('name')}.css|}" />
    </head>
    <body>
        <div class="center pure-menu pure-menu-horizontal">
        <a href="main" class="pure-menu-heading" th:href="@{/main}">
            <span class="bold"> <span th:text="#{decorator.header}"></span>
                <i class="fa fa-calendar fa-lg"></i></span>
        </a>
            <span layout:fragment="menu">
        <ul  class="pure-menu-list">
                <li class="pure-menu-item">
                        <a onclick="addTheme('blue', 'black')" class="pure-menu-link"
                           th:text="#{decorator.theme.black}"
                           th:if="${#themes.code('name')} == 'blue'"></a>
                        <a onclick="addTheme('black', 'blue')" class="pure-menu-link"
                           th:text="#{decorator.theme.blue}"
                           th:if="${#themes.code('name')} == 'black'">
                        </a>
                </li>
        </ul>
            </span>
    </div>
        <div layout:fragment="content">content</div>
    <div class="center">
        <p th:utext="#{decorator.footer}">footer</p>
    </div>
        <script type="text/javascript">
            /* <![CDATA[ */
            function addTheme(oldColor, newColor)
            {
                var url = window.location.href;
                if(url.indexOf('?')=== -1)
                {
                    window.location.href = url + "?theme=" + newColor;
                }
                else
                {
                    var oldParam = "?theme=" + oldColor;
                    var newParam = "?theme=" + newColor;
                    if (url.indexOf(oldParam) >= 0)
                    {
                        window.location.href = url.replace(oldParam, newParam);
                    }
                    else
                    {
                        oldParam = "&theme=" + oldColor;
                        newParam = "&theme=" + newColor;
                        if(url.indexOf(oldParam) >= 0)
                        {
                            window.location.href = url.replace(oldParam, newParam);
                        }
                        else
                        {
                            window.location.href = url + newParam;
                        }
                    }
                }
            }
            /* ]]> */
        </script>
    </body>
</html>
